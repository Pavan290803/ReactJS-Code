{"ast":null,"code":"import 'focus-options-polyfill';\nimport React, { memo, useRef, useState, useCallback, useEffect, StrictMode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { u as useWindowSize } from './Controlled-f6e8a5ed.js';\nexport { C as Controlled } from './Controlled-f6e8a5ed.js';\nimport { pseudoParentEl, getModalOverlayStyle, getModalContentStyle } from './helpers.js';\nimport 'tslib';\n\nvar UncontrolledActivated = function UncontrolledActivated(_a) {\n  var children = _a.children,\n      _b = _a.closeText,\n      closeText = _b === void 0 ? 'Unzoom Image' : _b,\n      onUnload = _a.onUnload,\n      onLoad = _a.onLoad,\n      _c = _a.overlayBgColorEnd,\n      overlayBgColorEnd = _c === void 0 ? 'rgba(255, 255, 255, 0.95)' : _c,\n      _d = _a.overlayBgColorStart,\n      overlayBgColorStart = _d === void 0 ? 'rgba(255, 255, 255, 0)' : _d,\n      parentRef = _a.parentRef,\n      _e = _a.portalEl,\n      portalEl = _e === void 0 ? document.body : _e,\n      _f = _a.scrollableEl,\n      scrollableEl = _f === void 0 ? window : _f,\n      _g = _a.transitionDuration,\n      transitionDuration = _g === void 0 ? 300 : _g,\n      _h = _a.zoomMargin,\n      zoomMargin = _h === void 0 ? 0 : _h,\n      _j = _a.zoomZindex,\n      zoomZindex = _j === void 0 ? 2147483647 : _j;\n  var btnRef = useRef(null);\n\n  var _k = useState(0),\n      forceUpdate = _k[1];\n\n  var _l = useState(false),\n      isLoaded = _l[0],\n      setIsLoaded = _l[1];\n\n  var _m = useState(false),\n      isUnloading = _m[0],\n      setIsUnloading = _m[1];\n\n  var _o = useWindowSize(),\n      innerWidth = _o.width,\n      innerHeight = _o.height; // on click, begin unloading\n\n\n  var handleClick = useCallback(function (e) {\n    e.preventDefault();\n    setIsUnloading(true);\n  }, []); // on escape, begin unloading\n\n  var handleKeyDown = useCallback(function (e) {\n    if (e.key === 'Escape' || e.keyCode === 27) {\n      e.stopPropagation();\n      setIsUnloading(true);\n    }\n  }, []);\n  var handleScroll = useCallback(function () {\n    forceUpdate(function (n) {\n      return n + 1;\n    });\n\n    if (!isUnloading) {\n      setIsUnloading(true);\n    }\n  }, [isUnloading]); // listen for keydown on the document\n\n  useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]); // listen for scroll and close\n\n  useEffect(function () {\n    var _a;\n\n    (_a = scrollableEl === null || scrollableEl === void 0 ? void 0 : scrollableEl.addEventListener) === null || _a === void 0 ? void 0 : _a.call(scrollableEl, 'scroll', handleScroll);\n    return function () {\n      var _a;\n\n      (_a = scrollableEl === null || scrollableEl === void 0 ? void 0 : scrollableEl.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(scrollableEl, 'scroll', handleScroll);\n    };\n  }, [handleScroll, scrollableEl]); // set loaded on mount and focus\n\n  useEffect(function () {\n    setIsLoaded(true);\n    onLoad();\n\n    if (btnRef.current) {\n      btnRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [onLoad]); // if unloading, tell parent that we're all done here after Nms\n\n  useEffect(function () {\n    var unloadTimeout = isUnloading ? setTimeout(onUnload, transitionDuration) : null;\n    return function () {\n      if (unloadTimeout) {\n        clearTimeout(unloadTimeout);\n      }\n    };\n  }, [isUnloading, onUnload, transitionDuration]); // use parent element or fake one if it's not yet loaded\n\n  var parentEl = parentRef.current || pseudoParentEl; // get parent item's dimensions\n\n  var _p = parentEl.getBoundingClientRect(),\n      height = _p.height,\n      left = _p.left,\n      top = _p.top,\n      width = _p.width;\n\n  var overlayStyle = getModalOverlayStyle({\n    isLoaded: isLoaded,\n    isUnloading: isUnloading,\n    overlayBgColorEnd: overlayBgColorEnd,\n    overlayBgColorStart: overlayBgColorStart,\n    transitionDuration: transitionDuration,\n    zoomZindex: zoomZindex\n  });\n  var contentStyle = getModalContentStyle({\n    height: height,\n    isLoaded: isLoaded,\n    innerHeight: innerHeight,\n    innerWidth: innerWidth,\n    isUnloading: isUnloading,\n    left: left,\n    originalTransform: parentEl.style.transform,\n    top: top,\n    transitionDuration: transitionDuration,\n    width: width,\n    zoomMargin: zoomMargin\n  });\n  return createPortal(React.createElement(\"div\", {\n    \"aria-label\": \"Zoomed image\",\n    \"aria-modal\": true,\n    \"data-rmiz-overlay\": true,\n    role: \"dialog\",\n    style: overlayStyle\n  }, React.createElement(\"div\", {\n    \"data-rmiz-modal-content\": true,\n    style: contentStyle\n  }, children), React.createElement(\"button\", {\n    \"aria-label\": closeText,\n    \"data-rmiz-btn-close\": true,\n    onClick: handleClick,\n    ref: btnRef\n  })), portalEl);\n};\n\nvar UncontrolledActivated$1 = memo(UncontrolledActivated);\n\nvar Uncontrolled = function Uncontrolled(_a) {\n  var children = _a.children,\n      _b = _a.closeText,\n      closeText = _b === void 0 ? 'Unzoom image' : _b,\n      _c = _a.overlayBgColorEnd,\n      overlayBgColorEnd = _c === void 0 ? 'rgba(255, 255, 255, 0.95)' : _c,\n      _d = _a.overlayBgColorStart,\n      overlayBgColorStart = _d === void 0 ? 'rgba(255, 255, 255, 0)' : _d,\n      portalEl = _a.portalEl,\n      _e = _a.openText,\n      openText = _e === void 0 ? 'Zoom image' : _e,\n      scrollableEl = _a.scrollableEl,\n      _f = _a.transitionDuration,\n      transitionDuration = _f === void 0 ? 300 : _f,\n      _g = _a.wrapElement,\n      WrapElement = _g === void 0 ? 'div' : _g,\n      wrapStyle = _a.wrapStyle,\n      _h = _a.zoomMargin,\n      zoomMargin = _h === void 0 ? 0 : _h,\n      _j = _a.zoomZindex,\n      zoomZindex = _j === void 0 ? 2147483647 : _j;\n\n  var _k = useState(false),\n      isActive = _k[0],\n      setIsActive = _k[1];\n\n  var _l = useState(false),\n      isChildLoaded = _l[0],\n      setIsChildLoaded = _l[1];\n\n  var wrapRef = useRef(null);\n  var btnRef = useRef(null);\n  var handleClickTrigger = useCallback(function (e) {\n    if (!isActive) {\n      e.preventDefault();\n      setIsActive(true);\n    }\n  }, [isActive]);\n  var handleChildLoad = useCallback(function () {\n    setIsChildLoaded(true);\n  }, []);\n  var handleChildUnload = useCallback(function () {\n    setIsActive(false);\n    setIsChildLoaded(false);\n\n    if (btnRef.current) {\n      btnRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, []);\n  var isExpanded = isActive && isChildLoaded;\n  var wrapType = isExpanded ? 'hidden' : 'visible';\n  return React.createElement(StrictMode, null, React.createElement(WrapElement, {\n    \"data-rmiz-wrap\": wrapType,\n    ref: wrapRef,\n    style: wrapStyle\n  }, children, React.createElement(\"button\", {\n    \"aria-label\": openText,\n    \"data-rmiz-btn-open\": true,\n    onClick: handleClickTrigger,\n    ref: btnRef\n  }), typeof window !== 'undefined' && isActive && React.createElement(UncontrolledActivated$1, {\n    closeText: closeText,\n    onLoad: handleChildLoad,\n    onUnload: handleChildUnload,\n    overlayBgColorEnd: overlayBgColorEnd,\n    overlayBgColorStart: overlayBgColorStart,\n    parentRef: wrapRef,\n    portalEl: portalEl,\n    scrollableEl: scrollableEl,\n    transitionDuration: transitionDuration,\n    zoomMargin: zoomMargin,\n    zoomZindex: zoomZindex\n  }, children)));\n};\n\nvar Uncontrolled$1 = memo(Uncontrolled);\nexport { Uncontrolled$1 as default };","map":{"version":3,"sources":["C:/Users/Pavan/Desktop/CAARD/ReactJS-Code/node_modules/react-medium-image-zoom/dist/esm/index.js"],"names":["React","memo","useRef","useState","useCallback","useEffect","StrictMode","createPortal","u","useWindowSize","C","Controlled","pseudoParentEl","getModalOverlayStyle","getModalContentStyle","UncontrolledActivated","_a","children","_b","closeText","onUnload","onLoad","_c","overlayBgColorEnd","_d","overlayBgColorStart","parentRef","_e","portalEl","document","body","_f","scrollableEl","window","_g","transitionDuration","_h","zoomMargin","_j","zoomZindex","btnRef","_k","forceUpdate","_l","isLoaded","setIsLoaded","_m","isUnloading","setIsUnloading","_o","innerWidth","width","innerHeight","height","handleClick","e","preventDefault","handleKeyDown","key","keyCode","stopPropagation","handleScroll","n","addEventListener","removeEventListener","call","current","focus","preventScroll","unloadTimeout","setTimeout","clearTimeout","parentEl","_p","getBoundingClientRect","left","top","overlayStyle","contentStyle","originalTransform","style","transform","createElement","role","onClick","ref","UncontrolledActivated$1","Uncontrolled","openText","wrapElement","WrapElement","wrapStyle","isActive","setIsActive","isChildLoaded","setIsChildLoaded","wrapRef","handleClickTrigger","handleChildLoad","handleChildUnload","isExpanded","wrapType","Uncontrolled$1","default"],"mappings":"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","sourcesContent":["import 'focus-options-polyfill';\nimport React, { memo, useRef, useState, useCallback, useEffect, StrictMode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { u as useWindowSize } from './Controlled-f6e8a5ed.js';\nexport { C as Controlled } from './Controlled-f6e8a5ed.js';\nimport { pseudoParentEl, getModalOverlayStyle, getModalContentStyle } from './helpers.js';\nimport 'tslib';\n\nvar UncontrolledActivated = function (_a) {\r\n    var children = _a.children, _b = _a.closeText, closeText = _b === void 0 ? 'Unzoom Image' : _b, onUnload = _a.onUnload, onLoad = _a.onLoad, _c = _a.overlayBgColorEnd, overlayBgColorEnd = _c === void 0 ? 'rgba(255, 255, 255, 0.95)' : _c, _d = _a.overlayBgColorStart, overlayBgColorStart = _d === void 0 ? 'rgba(255, 255, 255, 0)' : _d, parentRef = _a.parentRef, _e = _a.portalEl, portalEl = _e === void 0 ? document.body : _e, _f = _a.scrollableEl, scrollableEl = _f === void 0 ? window : _f, _g = _a.transitionDuration, transitionDuration = _g === void 0 ? 300 : _g, _h = _a.zoomMargin, zoomMargin = _h === void 0 ? 0 : _h, _j = _a.zoomZindex, zoomZindex = _j === void 0 ? 2147483647 : _j;\r\n    var btnRef = useRef(null);\r\n    var _k = useState(0), forceUpdate = _k[1];\r\n    var _l = useState(false), isLoaded = _l[0], setIsLoaded = _l[1];\r\n    var _m = useState(false), isUnloading = _m[0], setIsUnloading = _m[1];\r\n    var _o = useWindowSize(), innerWidth = _o.width, innerHeight = _o.height;\r\n    // on click, begin unloading\r\n    var handleClick = useCallback(function (e) {\r\n        e.preventDefault();\r\n        setIsUnloading(true);\r\n    }, []);\r\n    // on escape, begin unloading\r\n    var handleKeyDown = useCallback(function (e) {\r\n        if (e.key === 'Escape' || e.keyCode === 27) {\r\n            e.stopPropagation();\r\n            setIsUnloading(true);\r\n        }\r\n    }, []);\r\n    var handleScroll = useCallback(function () {\r\n        forceUpdate(function (n) { return n + 1; });\r\n        if (!isUnloading) {\r\n            setIsUnloading(true);\r\n        }\r\n    }, [isUnloading]);\r\n    // listen for keydown on the document\r\n    useEffect(function () {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return function () {\r\n            document.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, [handleKeyDown]);\r\n    // listen for scroll and close\r\n    useEffect(function () {\r\n        var _a;\r\n        (_a = scrollableEl === null || scrollableEl === void 0 ? void 0 : scrollableEl.addEventListener) === null || _a === void 0 ? void 0 : _a.call(scrollableEl, 'scroll', handleScroll);\r\n        return function () {\r\n            var _a;\r\n            (_a = scrollableEl === null || scrollableEl === void 0 ? void 0 : scrollableEl.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(scrollableEl, 'scroll', handleScroll);\r\n        };\r\n    }, [handleScroll, scrollableEl]);\r\n    // set loaded on mount and focus\r\n    useEffect(function () {\r\n        setIsLoaded(true);\r\n        onLoad();\r\n        if (btnRef.current) {\r\n            btnRef.current.focus({ preventScroll: true });\r\n        }\r\n    }, [onLoad]);\r\n    // if unloading, tell parent that we're all done here after Nms\r\n    useEffect(function () {\r\n        var unloadTimeout = isUnloading\r\n            ? setTimeout(onUnload, transitionDuration)\r\n            : null;\r\n        return function () {\r\n            if (unloadTimeout) {\r\n                clearTimeout(unloadTimeout);\r\n            }\r\n        };\r\n    }, [isUnloading, onUnload, transitionDuration]);\r\n    // use parent element or fake one if it's not yet loaded\r\n    var parentEl = parentRef.current || pseudoParentEl;\r\n    // get parent item's dimensions\r\n    var _p = parentEl.getBoundingClientRect(), height = _p.height, left = _p.left, top = _p.top, width = _p.width;\r\n    var overlayStyle = getModalOverlayStyle({\r\n        isLoaded: isLoaded,\r\n        isUnloading: isUnloading,\r\n        overlayBgColorEnd: overlayBgColorEnd,\r\n        overlayBgColorStart: overlayBgColorStart,\r\n        transitionDuration: transitionDuration,\r\n        zoomZindex: zoomZindex,\r\n    });\r\n    var contentStyle = getModalContentStyle({\r\n        height: height,\r\n        isLoaded: isLoaded,\r\n        innerHeight: innerHeight,\r\n        innerWidth: innerWidth,\r\n        isUnloading: isUnloading,\r\n        left: left,\r\n        originalTransform: parentEl.style.transform,\r\n        top: top,\r\n        transitionDuration: transitionDuration,\r\n        width: width,\r\n        zoomMargin: zoomMargin,\r\n    });\r\n    return createPortal(React.createElement(\"div\", { \"aria-label\": \"Zoomed image\", \"aria-modal\": true, \"data-rmiz-overlay\": true, role: \"dialog\", style: overlayStyle },\r\n        React.createElement(\"div\", { \"data-rmiz-modal-content\": true, style: contentStyle }, children),\r\n        React.createElement(\"button\", { \"aria-label\": closeText, \"data-rmiz-btn-close\": true, onClick: handleClick, ref: btnRef })), portalEl);\r\n};\r\nvar UncontrolledActivated$1 = memo(UncontrolledActivated);\n\nvar Uncontrolled = function (_a) {\r\n    var children = _a.children, _b = _a.closeText, closeText = _b === void 0 ? 'Unzoom image' : _b, _c = _a.overlayBgColorEnd, overlayBgColorEnd = _c === void 0 ? 'rgba(255, 255, 255, 0.95)' : _c, _d = _a.overlayBgColorStart, overlayBgColorStart = _d === void 0 ? 'rgba(255, 255, 255, 0)' : _d, portalEl = _a.portalEl, _e = _a.openText, openText = _e === void 0 ? 'Zoom image' : _e, scrollableEl = _a.scrollableEl, _f = _a.transitionDuration, transitionDuration = _f === void 0 ? 300 : _f, _g = _a.wrapElement, WrapElement = _g === void 0 ? 'div' : _g, wrapStyle = _a.wrapStyle, _h = _a.zoomMargin, zoomMargin = _h === void 0 ? 0 : _h, _j = _a.zoomZindex, zoomZindex = _j === void 0 ? 2147483647 : _j;\r\n    var _k = useState(false), isActive = _k[0], setIsActive = _k[1];\r\n    var _l = useState(false), isChildLoaded = _l[0], setIsChildLoaded = _l[1];\r\n    var wrapRef = useRef(null);\r\n    var btnRef = useRef(null);\r\n    var handleClickTrigger = useCallback(function (e) {\r\n        if (!isActive) {\r\n            e.preventDefault();\r\n            setIsActive(true);\r\n        }\r\n    }, [isActive]);\r\n    var handleChildLoad = useCallback(function () {\r\n        setIsChildLoaded(true);\r\n    }, []);\r\n    var handleChildUnload = useCallback(function () {\r\n        setIsActive(false);\r\n        setIsChildLoaded(false);\r\n        if (btnRef.current) {\r\n            btnRef.current.focus({ preventScroll: true });\r\n        }\r\n    }, []);\r\n    var isExpanded = isActive && isChildLoaded;\r\n    var wrapType = isExpanded ? 'hidden' : 'visible';\r\n    return (React.createElement(StrictMode, null,\r\n        React.createElement(WrapElement, { \"data-rmiz-wrap\": wrapType, ref: wrapRef, style: wrapStyle },\r\n            children,\r\n            React.createElement(\"button\", { \"aria-label\": openText, \"data-rmiz-btn-open\": true, onClick: handleClickTrigger, ref: btnRef }),\r\n            typeof window !== 'undefined' && isActive && (React.createElement(UncontrolledActivated$1, { closeText: closeText, onLoad: handleChildLoad, onUnload: handleChildUnload, overlayBgColorEnd: overlayBgColorEnd, overlayBgColorStart: overlayBgColorStart, parentRef: wrapRef, portalEl: portalEl, scrollableEl: scrollableEl, transitionDuration: transitionDuration, zoomMargin: zoomMargin, zoomZindex: zoomZindex }, children)))));\r\n};\r\nvar Uncontrolled$1 = memo(Uncontrolled);\n\nexport { Uncontrolled$1 as default };\n"]},"metadata":{},"sourceType":"module"}